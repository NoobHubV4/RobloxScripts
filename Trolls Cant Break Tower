local Prefix = ";"
local Players = game.Players
local LocalPlayer = Players.LocalPlayer
local Unloaded = true

local Notif = function(Title, Text, Duration)
	local Duration = Duration
	if not Duration then
		Duration = 3
	end
	game:GetService("StarterGui"):SetCore("SendNotification", {
		Title = Title;
		Text = Text;
		Icon = "";
		Duration = Duration;
	})
end

Notif("Check", "Check Id game", 3)
if game.PlaceId == 14493533447 then
       Unloaded = false
       Notif("Successfully", "Game Support", 10)
else
       Notif("Error", "Game Not Support")
end

if Unloaded == false then
local Whitelisted = {}
local SlapAll = false
local Slaping = {}
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "ScreenGui"
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
local TextBox = Instance.new("TextBox", ScreenGui)
TextBox.Name = "TextBox"
TextBox.BackgroundColor3 = Color3.fromRGB(172, 172, 172)
TextBox.BackgroundTransparency = 0.400
TextBox.Position = UDim2.new(0.0255349874, 0, 0.800595582, 0)
TextBox.Size = UDim2.new(0, 278, 0, 33)
TextBox.Font = Enum.Font.SourceSans
TextBox.PlaceholderText = "Command Bar"
TextBox.PlaceholderColor3 = Color3.fromRGB(255, 255, 255)
TextBox.Text = ""
TextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
TextBox.TextSize = 23.000
TextBox.Draggable = true

local PlrFromArgs = function(plr, args)
	if plr and plr:lower() == "me" then
		return args
	elseif not plr and not args then
		return false
	elseif not plr and args then
		return args
	end
	local foundplr = false
	for i,v in pairs(Players:GetPlayers()) do
		local Name, DisplayName = v.Name:lower(), v.DisplayName:lower()
		if Name:sub(1, #plr) == plr:lower() or DisplayName:sub(1, #plr) == plr:lower() then
			foundplr = v
		end
	end
	return foundplr
end

local GetRandomPlr = function(args)
	local DaPlayers = Players:GetPlayers()
	local DaIndex = math.random(1, #DaPlayers)
	local ToReturn = DaPlayers[DaIndex]
	if args and ToReturn.UserId == args.UserId then
		DaPlayers = Players:GetPlayers(); DaIndex = math.random(1, #DaPlayers); ToReturn = DaPlayers[DaIndex]
	end
	return ToReturn
end

function getEvent()
        local char = LocalPlayer.Character
        local back = LocalPlayer.Backpack

        local tool = char:FindFirstChild("GoldSlapTool") or char:FindFirstChild("BlueSlapTool") or back:FindFirstChild("GoldSlapTool") or back:FindFirstChild("BlueSlapTool")
        if not tool then
              return Notif("Error", "Not Slap", 3)
        end
        if tool and tool:FindFirstChild("Event") then
              return tool.Event
        end
end
        

function Slap(Player)
        local targetPart = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
        local Event = getEvent()
        if Event then
             if targetPart then
                    Event:FireServer("slash", Player.Character, targetPart.Position, Vector3.new(0, 500000, 0))
                    if targetPart and targetPart.Parent:FindFirstChild("BodyVelocity") == nil then

                        local bodyVelocity = Instance.new("BodyVelocity")

                            bodyVelocity.MaxForce = Vector3.new(0, math.huge, 0)

                            bodyVelocity.Velocity = Vector3.new(0, SLAP_POWER, 0)

                            bodyVelocity.Parent = targetPart

                            game.Debris:AddItem(bodyVelocity, 0.5)

                    end
              end
       end
end

function SlapAll()
   local Event = getEvent()
   for _,Player in pairs(game.Players:GetPlayers()) do
     if Player ~= LocalPlayer and not table.find(Whitelisted,v) then
        local targetPart = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
        if Event then
             if targetPart then
                    Event:FireServer("slash", Player.Character, targetPart.Position, Vector3.new(0, 500000, 0))
                    if targetPart and targetPart.Parent:FindFirstChild("BodyVelocity") == nil then

                        local bodyVelocity = Instance.new("BodyVelocity")

                            bodyVelocity.MaxForce = Vector3.new(0, math.huge, 0)

                            bodyVelocity.Velocity = Vector3.new(0, SLAP_POWER, 0)

                            bodyVelocity.Parent = targetPart

                            game.Debris:AddItem(bodyVelocity, 0.5)

                    end
              end
       end
    end
  end
end
function OnCommand(text)
        local Args = text:split(" ")
	if Args[1] == "/e" or Args[1] == "/c" or Args[1] == "/t" or Args[1] == "/" then
		table.remove(Args, 1)
	end
	if Args[1] == "/w" then
		table.remove(Args, 1)
		if Args[2] then
			table.remove(Args, 1)
		end
	end
	local function cm(args)
		return args == Args[1]:sub(#Prefix+1):lower()
	end
        if cm("slap") then
                local DaPlayer = PlrFromArgs(Args[2], false)
                if DaPlayer then
                        Slap(DaPlayer)
                        Notif("Successfully", "Slap "..DaPlayer)
                end
                local ar = Args[2] and Args[2]:lower()
                if ar == "all" then
                        SlapAll()
                        Notif("Successfully", "Slap All")
                elseif ar == "random" then
                        local DaRandom = GetRandomPlr(LocalPlayer)
                        Slap(DaRandom)
                        Notif("Successfully", "Slap "..DaRandom)
                elseif not DaPlayer then
                        Notif("Error", "Not Player in Server")
                end
        else
                Notif("Error", tostring(Args[1]) .. " is not a valid command.")
        end
end
LocalPlayer.Chatted:Connect(function(t)
	OnCommand(t)
end)
TextBox.FocusLost:Connect(function(enterPressed, inputObj)
	if TextBox.Text == "" then
		return
	end
	if enterPressed then
		local success, errors = pcall(function()
			if string.sub(TextBox.Text, 0, 1) == Prefix then
				OnCommand(TextBox.Text)
			else
				OnCommand(Prefix .. TextBox.Text)
			end
		end)
		if not success then
			dewarn("NoobHubV4_Error: " .. tostring(errors) .. ".")
		end
		task.wait(.2)
		TextBox.Text = ""
	end
end)
end

--Coming soon
