local Library = loadstring(Game:HttpGet("https://raw.githubusercontent.com/NoobHubV1/NoobHubV1/main/Wizard%20Lib.lua"))()
local ParryMethod = "MouseClick"
local VIM = game:GetService("VirtualInputManager") or game:FindFirstDescendant("VirtualInputManager")
local Balls = workspace.Balls
local MultiParry = 0.3
local States = {}

local Parry = function(Mode)
      if Mode == "MouseClick" then
             VIM:SendMouseButtonEvent(0, 0, 0, true, game, 0)
      elseif Mode == "Keypress" then
             VIM:SendKeyEvent(true,"F",false,game)
      end
end

local Window = Library:NewWindow("NoobHubV1 Hub")

local Section = Window:NewSection("Main")

Section:CreateDropdown("Game Mode", {"Main Game","Training Mode"}, 1, function(Value)
      if Value == "Main Game" then
           Balls = workspace.Balls
      elseif Value == "Training Mode" then
           Balls = workspace.TrainingBalls
      end
end)

Section:CreateDropdown("Parry Method", {"MouseClick","Keypress"}, 1, function(Value)
      if Value == "MouseClick" then
           ParryMethod = "MouseClick"
      elseif Value == "Keypress" then
           ParryMethod = "Keypress"
      end
end)

Section:CreateToggle("Auto Parry", function(v)
      States.AutoParry = v
end)

Section:CreateTextbox("Auto Parry Multiplier", function(value)
      if value > 3.0000000000000000000001 then
             MultiParry = value
      end
end)

--[[
	WARNING: Heads up! This script has not been verified by ScriptBlox. Use at your own risk!
]]
local RunService = game:GetService("RunService") or game:FindFirstDescendant("RunService")
local Players = game:GetService("Players") or game:FindFirstDescendant("Players")

local Player = Players.LocalPlayer

local Cooldown = tick()
local IsParried = false
local Connection = nil

local function GetBall()
  for _, Ball in ipairs(Balls:GetChildren()) do
    if Ball:GetAttribute("realBall") then
      return Ball
    end
  end
end

local function ResetConnection()
    if Connection then
        Connection:Disconnect()
        Connection = nil
    end
end

Balls.ChildAdded:Connect(function()
    local Ball = GetBall()
    if not Ball then return end
    ResetConnection()
    Connection = Ball:GetAttributeChangedSignal("target"):Connect(function()
        Parried = false
    end)
end)

RunService.PreSimulation:Connect(function()
    local Ball, HRP = GetBall(), Player.Character.HumanoidRootPart
    if not Ball or not HRP then
      return
    end
    
    local Speed = Ball.zoomies.VectorVelocity.Magnitude
    local Distance = (HRP.Position - Ball.Position).Magnitude
    
    if Ball:GetAttribute("target") == Player.Name and not Parried and Distance / Speed <= MultiParry then
      Parry(ParryMethod)
      Parried = true
      Cooldown = tick()
      
      if (tick() - Cooldown) >= 1 then
        Parried = false
      end
    end
end)
